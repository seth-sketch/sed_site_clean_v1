(function(){"use strict";var LIMIT_HOME=6;function j(url){return fetch(url,{cache:"no-store"}).then(function(r){if(!r.ok)throw 0;return r.json();});}function loadPress(cb){var bases=['/assets/press.json','./assets/press.json','../assets/press.json'];(function next(i){if(i>=bases.length)return cb([]);j(bases[i]+'?v='+Date.now()).then(function(d){cb(Array.isArray(d)?d:[]);}).catch(function(){next(i+1);});})(0);}function renderHome(list){var m=document.getElementById('pressLinks');if(!m)return;var n=Math.min(LIMIT_HOME,list.length),html='';for(var i=0;i<n;i++){var p=list[i],u=p.url||'#',t=p.title||'Press',o=p.outlet||p.source||'',d=p.date||'';html+='<li><a href="'+u+'" target="_blank" rel="noopener">'+t+'</a>'+(o||d?'<span class="meta"> — '+[o,d].filter(Boolean).join(' · ')+'</span>':'')+'</li>'; }m.innerHTML=html;}function renderPress(list){var g=document.getElementById('pressGrid');if(!g)return;var html='';for(var i=0;i<list.length;i++){var p=list[i],u=p.url||'#',img=p.thumb||'data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 16 9\'><rect width=\'16\' height=\'9\' fill=\'%23e5e7eb\'/></svg>';html+='<a class="press-tile" href="'+u+'" target="_blank" rel="noopener"><span class="ratio-169"><img loading="lazy" src="'+img+'" alt=""></span></a>'; }g.innerHTML=html;}function init(){var path=location.pathname.replace(/\/+$/,'');loadPress(function(list){if((path===''||path==='/'||path.endsWith('/index.html'))&&document.getElementById('pressLinks'))renderHome(list);else if((path==='/press'||path.endsWith('/press')||path.endsWith('/press/index.html'))&&document.getElementById('pressGrid'))renderPress(list);});}if(document.readyState==='loading')document.addEventListener('DOMContentLoaded',init);else init();})();
